var peachTemplates=function(t){"use strict";function e(t,e,r,n){return void 0!==n[r+1]?t[e]:{last:t,prop:e}}function r(t,e,r){return void 0!==t[e]?"function"==typeof t[e]?t[e]()+"":t[e]:r[e]+""}function n(t,n,o){var i=n.split(".").reduce(e,t);return r(i.last,i.prop,o)}var o=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r={}),this.string=t,this.format=e,this.defaults=r,this.complete=!1,this.pattern=/([\s\S]+?)(\\?%)\(([\s\S]+?)\)/g,this.lastIndex=0};o.prototype.next=function(){var t=this.pattern.exec(this.string),e=t||[],r=e[0],n=e[1],o=e[2],i=e[3];return this.complete?this._last():t?(this.lastIndex=this.pattern.lastIndex,"%"===o?this._every(n,i):this._default(r)):(this.complete=!0,this._end())},o.prototype._last=function(){return{done:!0}},o.prototype._end=function(){return{value:[this.string.slice(this.lastIndex),"",null],done:!1}},o.prototype._default=function(t){return{value:[t,"",null],done:!1}},o.prototype[Symbol.iterator]=function(){return this};var i=function(t){function e(e,r,n){t.call(this,e,r,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._every=function(t,e){return{value:[t,n(this.format,e,this.defaults),e],done:!1}},e}(o),u=function(t){function e(e,r,n){t.call(this,e,r,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._last=function(){return Promise.resolve(t.prototype._last.call(this))},e.prototype._end=function(){return Promise.resolve(t.prototype._end.call(this))},e.prototype._every=function(t,e){return(o=this.format,i=e,u=this.defaults,s=i.split("."),s.length?s.reduce(function(t,e,r,n){return t.then(function(t){return void 0!==n[r+1]?t[e]:{last:t,prop:e}})},Promise.resolve(o)).then(function(t){return r(t.last,t.prop,u)}):Promise.resolve(n(o,prop,u))).then(function(r){return{value:[t,r,e],done:!1}});var o,i,u,s},e.prototype._default=function(e){return Promise.resolve(t.prototype._default.call(this))},e.prototype[Symbol.asyncIterator]=function(){return this},e}(o);function s(t){return function(e,r,n){if(void 0===r&&(r={}),void 0===n&&(n={}),"string"!=typeof e)throw new TypeError("The value ("+e+") at argument 0 is not a string");if("object"!=typeof r)throw new TypeError("The value ("+r+") at argument 1 is not an object");if("object"!=typeof n)throw new TypeError("The value ("+n+") at argument 2 is not an object");return t(e,r,n)}}var p=s(function(t,e,r){return new i(t,e,r)}),a=s(function(t,e,r){return new u(t,e,r)});return t.present=p,t.asyncPresent=a,t}({});
//# sourceMappingURL=peach-templates.min.js.map
